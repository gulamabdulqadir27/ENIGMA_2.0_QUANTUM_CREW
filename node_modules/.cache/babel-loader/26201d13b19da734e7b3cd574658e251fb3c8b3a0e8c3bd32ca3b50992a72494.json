{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gulam\\\\OneDrive\\\\Documents\\\\My Texts\\\\Programming\\\\neuroscan-ai\\\\src\\\\components\\\\BrainMap.jsx\";\n// feat: add SVG brain topography heatmap colored by alpha power\n// docs: renders a 2D scalp map with electrodes colored green→yellow→red\n// docs: green = normal alpha power, red = severe alpha suppression (SZ indicator)\n// ─────────────────────────────────────────────────────────────\nimport React from \"react\";\n\n// docs: 10-20 international electrode positions mapped to SVG coordinates (200×200 viewbox)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ELECTRODES = [{\n  name: \"Fp1\",\n  x: 72,\n  y: 30\n}, {\n  name: \"Fp2\",\n  x: 128,\n  x: 128,\n  y: 30\n}, {\n  name: \"F3\",\n  x: 58,\n  y: 68\n}, {\n  name: \"F4\",\n  x: 142,\n  y: 68\n}, {\n  name: \"Fz\",\n  x: 100,\n  y: 60\n}, {\n  name: \"C3\",\n  x: 52,\n  y: 100\n}, {\n  name: \"Cz\",\n  x: 100,\n  y: 100\n}, {\n  name: \"C4\",\n  x: 148,\n  y: 100\n}, {\n  name: \"P3\",\n  x: 62,\n  y: 132\n}, {\n  name: \"P4\",\n  x: 138,\n  y: 132\n}, {\n  name: \"O1\",\n  x: 76,\n  y: 168\n}, {\n  name: \"O2\",\n  x: 124,\n  y: 168\n}];\n\n// feat: interpolate color green→yellow→red based on alpha deficit\nfunction alphaToColor(alphaVal) {\n  const baseline = 1.8;\n  const deficit = Math.max(0, Math.min(1, 1 - alphaVal / baseline));\n  if (deficit < 0.5) {\n    // green → yellow\n    const r = Math.round(deficit * 2 * 245);\n    return `rgb(${r}, 200, 100)`;\n  } else {\n    // yellow → red\n    const g = Math.round((1 - (deficit - 0.5) * 2) * 160);\n    return `rgb(239, ${g}, 68)`;\n  }\n}\nexport default function BrainMap({\n  bandPowers,\n  isLoading\n}) {\n  var _bandPowers$alpha;\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-card skeleton\",\n    style: {\n      height: 300\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 25\n  }, this);\n\n  // fix: fallback to healthy baseline if bandPowers not yet computed\n  const alpha = (_bandPowers$alpha = bandPowers === null || bandPowers === void 0 ? void 0 : bandPowers.alpha) !== null && _bandPowers$alpha !== void 0 ? _bandPowers$alpha : 1.8;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-title\",\n      children: \"CORTICAL ACTIVITY MAP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-subtitle\",\n      children: \"Alpha power distribution \\u2014 suppression = risk\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      viewBox: \"0 0 200 200\",\n      style: {\n        width: \"100%\",\n        maxHeight: 220\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"100\",\n        cy: \"100\",\n        r: \"88\",\n        fill: \"rgba(15,22,35,0.8)\",\n        stroke: \"#2a3550\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n        points: \"94,18 106,18 100,8\",\n        fill: \"#2a3550\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n        cx: \"12\",\n        cy: \"100\",\n        rx: \"6\",\n        ry: \"12\",\n        fill: \"#2a3550\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n        cx: \"188\",\n        cy: \"100\",\n        rx: \"6\",\n        ry: \"12\",\n        fill: \"#2a3550\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), ELECTRODES.map(el => {\n        const color = alphaToColor(alpha);\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: el.x,\n            cy: el.y,\n            r: \"8\",\n            fill: color,\n            stroke: \"rgba(255,255,255,0.3)\",\n            strokeWidth: \"1.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: el.x,\n            y: el.y - 12,\n            textAnchor: \"middle\",\n            fill: \"#94a3b8\",\n            fontSize: \"7\",\n            fontFamily: \"monospace\",\n            children: el.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, el.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"brain-legend\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#10b981\"\n        },\n        children: \"\\u25CF Normal Alpha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-gradient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#ef4444\"\n        },\n        children: \"\\u25CF Suppressed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_c = BrainMap;\nvar _c;\n$RefreshReg$(_c, \"BrainMap\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","ELECTRODES","name","x","y","alphaToColor","alphaVal","baseline","deficit","Math","max","min","r","round","g","BrainMap","bandPowers","isLoading","_bandPowers$alpha","className","style","height","fileName","_jsxFileName","lineNumber","columnNumber","alpha","children","viewBox","width","maxHeight","cx","cy","fill","stroke","strokeWidth","points","rx","ry","map","el","color","textAnchor","fontSize","fontFamily","_c","$RefreshReg$"],"sources":["C:/Users/gulam/OneDrive/Documents/My Texts/Programming/neuroscan-ai/src/components/BrainMap.jsx"],"sourcesContent":["// feat: add SVG brain topography heatmap colored by alpha power\r\n// docs: renders a 2D scalp map with electrodes colored green→yellow→red\r\n// docs: green = normal alpha power, red = severe alpha suppression (SZ indicator)\r\n// ─────────────────────────────────────────────────────────────\r\nimport React from \"react\";\r\n\r\n// docs: 10-20 international electrode positions mapped to SVG coordinates (200×200 viewbox)\r\nconst ELECTRODES = [\r\n  { name: \"Fp1\", x: 72, y: 30 },\r\n  { name: \"Fp2\", x: 128, x: 128, y: 30 },\r\n  { name: \"F3\", x: 58, y: 68 },\r\n  { name: \"F4\", x: 142, y: 68 },\r\n  { name: \"Fz\", x: 100, y: 60 },\r\n  { name: \"C3\", x: 52, y: 100 },\r\n  { name: \"Cz\", x: 100, y: 100 },\r\n  { name: \"C4\", x: 148, y: 100 },\r\n  { name: \"P3\", x: 62, y: 132 },\r\n  { name: \"P4\", x: 138, y: 132 },\r\n  { name: \"O1\", x: 76, y: 168 },\r\n  { name: \"O2\", x: 124, y: 168 },\r\n];\r\n\r\n// feat: interpolate color green→yellow→red based on alpha deficit\r\nfunction alphaToColor(alphaVal) {\r\n  const baseline = 1.8;\r\n  const deficit = Math.max(0, Math.min(1, 1 - alphaVal / baseline));\r\n  if (deficit < 0.5) {\r\n    // green → yellow\r\n    const r = Math.round(deficit * 2 * 245);\r\n    return `rgb(${r}, 200, 100)`;\r\n  } else {\r\n    // yellow → red\r\n    const g = Math.round((1 - (deficit - 0.5) * 2) * 160);\r\n    return `rgb(239, ${g}, 68)`;\r\n  }\r\n}\r\n\r\nexport default function BrainMap({ bandPowers, isLoading }) {\r\n  if (isLoading) return <div className=\"chart-card skeleton\" style={{ height: 300 }} />;\r\n\r\n  // fix: fallback to healthy baseline if bandPowers not yet computed\r\n  const alpha = bandPowers?.alpha ?? 1.8;\r\n\r\n  return (\r\n    <div className=\"chart-card\">\r\n      <div className=\"chart-title\">CORTICAL ACTIVITY MAP</div>\r\n      <div className=\"chart-subtitle\">Alpha power distribution — suppression = risk</div>\r\n\r\n      <svg viewBox=\"0 0 200 200\" style={{ width: \"100%\", maxHeight: 220 }}>\r\n        {/* style: head outline circle */}\r\n        <circle cx=\"100\" cy=\"100\" r=\"88\" fill=\"rgba(15,22,35,0.8)\" stroke=\"#2a3550\" strokeWidth=\"2\" />\r\n        {/* style: nose indicator */}\r\n        <polygon points=\"94,18 106,18 100,8\" fill=\"#2a3550\" />\r\n        {/* style: left ear */}\r\n        <ellipse cx=\"12\" cy=\"100\" rx=\"6\" ry=\"12\" fill=\"#2a3550\" />\r\n        {/* style: right ear */}\r\n        <ellipse cx=\"188\" cy=\"100\" rx=\"6\" ry=\"12\" fill=\"#2a3550\" />\r\n\r\n        {/* feat: render electrode dots colored by alpha deficit */}\r\n        {ELECTRODES.map((el) => {\r\n          const color = alphaToColor(alpha);\r\n          return (\r\n            <g key={el.name}>\r\n              {/* dot */}\r\n              <circle cx={el.x} cy={el.y} r=\"8\" fill={color} stroke=\"rgba(255,255,255,0.3)\" strokeWidth=\"1.5\" />\r\n              {/* label */}\r\n              <text x={el.x} y={el.y - 12} textAnchor=\"middle\" fill=\"#94a3b8\" fontSize=\"7\" fontFamily=\"monospace\">\r\n                {el.name}\r\n              </text>\r\n            </g>\r\n          );\r\n        })}\r\n      </svg>\r\n\r\n      {/* feat: color scale legend */}\r\n      <div className=\"brain-legend\">\r\n        <span style={{ color: \"#10b981\" }}>● Normal Alpha</span>\r\n        <div className=\"legend-gradient\" />\r\n        <span style={{ color: \"#ef4444\" }}>● Suppressed</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}