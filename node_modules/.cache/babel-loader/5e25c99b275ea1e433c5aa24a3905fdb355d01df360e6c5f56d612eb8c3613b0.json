{"ast":null,"code":"// feat: EEG signal generation and analysis utilities\n// docs: all synthetic EEG data is generated using seeded pseudo-random numbers\n// docs: same seed → same sequence of numbers → same patient data (fully reproducible)\n// docs: this module provides the core simulation pipeline for the NeuroScan AI dashboard\n\n// ─────────────────────────────────────────────────────────────\n// feat: seeded pseudo-random number generator (mulberry32)\n// Same seed → same sequence of numbers → same patient data\n// ─────────────────────────────────────────────────────────────\nexport function mulberry32(seed) {\n  return function () {\n    seed |= 0;\n    seed = seed + 0x6d2b79f5 | 0;\n    let t = Math.imul(seed ^ seed >>> 15, 1 | seed);\n    t = t + Math.imul(t ^ t >>> 7, 61 | t) ^ t;\n    return ((t ^ t >>> 14) >>> 0) / 4294967296;\n  };\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: generate raw EEG waveform signal for 5 channels\n// Returns 1280 data points (5 seconds at 256Hz)\n// Each point: { time, Fp1, F3, C3, P3, O1 }\n// ─────────────────────────────────────────────────────────────\nexport function generateEEGSignal(isSZ, seed) {\n  const rng = mulberry32(seed);\n  const sfreq = 256; // samples per second\n  const duration = 5; // seconds\n  const nSamples = sfreq * duration; // 1280 total samples\n  const channels = [\"Fp1\", \"F3\", \"C3\", \"P3\", \"O1\"];\n\n  // perf: pre-compute amplitude and phase params per channel\n  // so we don't recalculate inside the sample loop\n  const params = channels.map(() => {\n    let dA = 0.5 + rng() * 1.0; // delta amplitude\n    let tA = 0.3 + rng() * 0.5; // theta amplitude\n    let aA = 0.8 + rng() * 1.2; // alpha amplitude\n    let bA = 0.2 + rng() * 0.4; // beta amplitude\n    let gA = 0.1 + rng() * 0.2; // gamma amplitude\n\n    if (isSZ) {\n      // feat: apply schizophrenia EEG modifications based on literature\n      // delta and theta elevated, alpha suppressed, gamma dysregulated\n      dA *= 1.8 + rng() * 0.7; // ↑ delta (slow wave invasion)\n      tA *= 1.5 + rng() * 0.5; // ↑ theta (cognitive slowing)\n      aA *= 0.3 + rng() * 0.3; // ↓ alpha (KEY marker - suppressed)\n      gA *= 1.5 + rng() * 0.7; // ↑ gamma (dysregulation)\n    } else {\n      // chore: consume same number of rng calls for consistency\n      rng();\n      rng();\n      rng();\n      rng();\n    }\n    return {\n      dA,\n      tA,\n      aA,\n      bA,\n      gA,\n      dP: rng() * 2 * Math.PI,\n      // delta phase offset\n      tP: rng() * 2 * Math.PI,\n      // theta phase offset\n      aP: rng() * 2 * Math.PI,\n      // alpha phase offset\n      bP: rng() * 2 * Math.PI,\n      // beta phase offset\n      gP: rng() * 2 * Math.PI // gamma phase offset\n    };\n  });\n\n  // feat: build sample-by-sample signal array\n  const signal = [];\n  for (let i = 0; i < nSamples; i++) {\n    const t = i / sfreq;\n    const point = {\n      time: parseFloat(t.toFixed(4))\n    };\n    channels.forEach((ch, ci) => {\n      const p = params[ci];\n      const noise = (rng() - 0.5) * 0.6; // biological noise\n\n      // signal = sum of all frequency band sine waves + noise\n      point[ch] = p.dA * Math.sin(2 * Math.PI * 2 * t + p.dP) +\n      // 2Hz delta\n      p.tA * Math.sin(2 * Math.PI * 6 * t + p.tP) +\n      // 6Hz theta\n      p.aA * Math.sin(2 * Math.PI * 10 * t + p.aP) +\n      // 10Hz alpha\n      p.bA * Math.sin(2 * Math.PI * 20 * t + p.bP) +\n      // 20Hz beta\n      p.gA * Math.sin(2 * Math.PI * 40 * t + p.gP) +\n      // 40Hz gamma\n      noise;\n    });\n    signal.push(point);\n  }\n  return signal;\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: compute frequency band power values per band\n// Simulates Welch PSD output using seeded random variation\n// Healthy baselines: delta=1.2, theta=0.7, alpha=1.8, beta=0.5, gamma=0.2\n// ─────────────────────────────────────────────────────────────\n// refactor: uses separate seed offset (+1000) to avoid correlation with signal generation\nexport function computeBandPowers(isSZ, seed) {\n  const rng = mulberry32(seed + 1000); // offset seed to avoid correlation with signal\n\n  // Healthy baseline values from EEG literature\n  const baselines = {\n    delta: 1.2,\n    theta: 0.7,\n    alpha: 1.8,\n    beta: 0.5,\n    gamma: 0.2\n  };\n\n  // Schizophrenia multiplier ranges per band\n  const szMultipliers = {\n    delta: [1.6, 2.5],\n    // elevated\n    theta: [1.4, 1.9],\n    // elevated\n    alpha: [0.25, 0.55],\n    // suppressed (most important marker)\n    beta: [0.7, 0.95],\n    // slightly reduced\n    gamma: [1.4, 2.1] // dysregulated\n  };\n  const powers = {};\n  Object.entries(baselines).forEach(([band, base]) => {\n    let multiplier;\n    if (isSZ) {\n      const [lo, hi] = szMultipliers[band];\n      multiplier = lo + rng() * (hi - lo);\n    } else {\n      // healthy: ±15% variation around baseline\n      multiplier = 0.85 + rng() * 0.30;\n    }\n    powers[band] = parseFloat((base * multiplier).toFixed(4));\n  });\n  return powers;\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: compute risk score from band powers\n// Weighted formula — alpha suppression has highest weight (35%)\n// Returns: { score, confidence, keyMarker, components }\n// ─────────────────────────────────────────────────────────────\n// docs: weighted formula — alpha suppression has highest weight (35%) because it is the strongest SZ marker\nexport function computeRiskScore(bandPowers, seed) {\n  const rng = mulberry32(seed + 2000);\n  const {\n    delta,\n    theta,\n    alpha,\n    gamma\n  } = bandPowers;\n\n  // Each component measures deviation from healthy baseline\n  const components = {\n    delta: parseFloat(((delta / 1.2 - 1) * 20).toFixed(2)),\n    // weight: 20\n    theta: parseFloat(((theta / 0.7 - 1) * 15).toFixed(2)),\n    // weight: 15\n    alpha: parseFloat(((1 - alpha / 1.8) * 35).toFixed(2)),\n    // weight: 35 (flipped)\n    gamma: parseFloat(((gamma / 0.2 - 1) * 10).toFixed(2)) // weight: 10\n  };\n\n  // Raw score = sum of all components, then scale to 0-100\n  const rawScore = Object.values(components).reduce((a, b) => a + b, 0);\n  const score = Math.min(100, Math.max(0, Math.round(rawScore * 1.2)));\n\n  // Confidence: 80–95% range with seeded noise\n  const confidence = Math.round(80 + rng() * 15);\n\n  // feat: determine key marker — whichever component is highest\n  const markerMap = {\n    delta: \"δ Elevation\",\n    theta: \"θ Elevation\",\n    alpha: \"α Suppression\",\n    gamma: \"γ Dysregulation\"\n  };\n  const keyBand = Object.entries(components).reduce((a, b) => b[1] > a[1] ? b : a)[0];\n  const keyMarker = markerMap[keyBand];\n\n  // Deviation % for key marker display\n  const deviations = {\n    delta: `+${Math.round((delta / 1.2 - 1) * 100)}% above normal`,\n    theta: `+${Math.round((theta / 0.7 - 1) * 100)}% above normal`,\n    alpha: `-${Math.round((1 - alpha / 1.8) * 100)}% below normal`,\n    gamma: `+${Math.round((gamma / 0.2 - 1) * 100)}% above normal`\n  };\n  return {\n    score,\n    confidence,\n    keyMarker,\n    keyDeviation: deviations[keyBand],\n    components\n  };\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: generate SHAP-style feature importance values\n// Explains which EEG features drove the risk score up or down\n// Positive = increases risk, Negative = decreases risk\n// ─────────────────────────────────────────────────────────────\n// docs: SHAP = SHapley Additive exPlanations — makes AI decisions transparent and auditable\nexport function generateSHAPValues(isSZ, seed) {\n  const rng = mulberry32(seed + 3000);\n\n  // 15 features covering band+channel combos and coherence\n  const features = [{\n    name: \"α · Fz\",\n    band: \"alpha\",\n    region: \"Frontal\"\n  }, {\n    name: \"δ · Cz\",\n    band: \"delta\",\n    region: \"Central\"\n  }, {\n    name: \"θ · F3\",\n    band: \"theta\",\n    region: \"Frontal\"\n  }, {\n    name: \"γ · Fp1\",\n    band: \"gamma\",\n    region: \"Prefrontal\"\n  }, {\n    name: \"α · C3\",\n    band: \"alpha\",\n    region: \"Central\"\n  }, {\n    name: \"Coh · Fz→Pz\",\n    band: \"coh\",\n    region: \"F-P\"\n  }, {\n    name: \"δ · F4\",\n    band: \"delta\",\n    region: \"Frontal\"\n  }, {\n    name: \"θ · Pz\",\n    band: \"theta\",\n    region: \"Parietal\"\n  }, {\n    name: \"α · O1\",\n    band: \"alpha\",\n    region: \"Occipital\"\n  }, {\n    name: \"β · C4\",\n    band: \"beta\",\n    region: \"Central\"\n  }, {\n    name: \"γ · F3\",\n    band: \"gamma\",\n    region: \"Frontal\"\n  }, {\n    name: \"Coh · F3→P3\",\n    band: \"coh\",\n    region: \"F-P\"\n  }, {\n    name: \"δ · Fp1\",\n    band: \"delta\",\n    region: \"Prefrontal\"\n  }, {\n    name: \"θ · C3\",\n    band: \"theta\",\n    region: \"Central\"\n  }, {\n    name: \"α · Fp2\",\n    band: \"alpha\",\n    region: \"Prefrontal\"\n  }];\n\n  // Base SHAP magnitudes per band for SZ vs healthy\n  const szSign = {\n    alpha: -1,\n    delta: 1,\n    theta: 1,\n    gamma: 1,\n    beta: -1,\n    coh: -1\n  };\n  const hSign = {\n    alpha: 1,\n    delta: -1,\n    theta: -1,\n    gamma: -1,\n    beta: 1,\n    coh: 1\n  };\n  const szMag = {\n    alpha: [0.15, 0.35],\n    delta: [0.10, 0.28],\n    theta: [0.08, 0.20],\n    gamma: [0.08, 0.22],\n    beta: [0.05, 0.15],\n    coh: [0.08, 0.18]\n  };\n  const hMag = {\n    alpha: [0.05, 0.15],\n    delta: [0.03, 0.10],\n    theta: [0.03, 0.08],\n    gamma: [0.03, 0.08],\n    beta: [0.02, 0.08],\n    coh: [0.03, 0.10]\n  };\n  const shapValues = features.map(f => {\n    const mag = isSZ ? szMag[f.band] : hMag[f.band];\n    const sign = isSZ ? szSign[f.band] : hSign[f.band];\n    const base = mag[0] + rng() * (mag[1] - mag[0]);\n    const noise = (rng() - 0.5) * 0.03; // ±15% noise\n    return {\n      ...f,\n      value: parseFloat((sign * (base + noise)).toFixed(4))\n    };\n  });\n\n  // Sort by absolute SHAP value descending\n  return shapValues.sort((a, b) => Math.abs(b.value) - Math.abs(a.value));\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: compute alpha coherence between frontal-parietal pairs\n// Low coherence in SZ indicates disconnection between regions\n// ─────────────────────────────────────────────────────────────\n// docs: low coherence in SZ indicates functional disconnection between brain regions\nexport function computeCoherence(isSZ, seed) {\n  const rng = mulberry32(seed + 4000);\n  const pairs = [\"Fz-Pz\", \"F3-P3\", \"F4-P4\"];\n  const result = {};\n  pairs.forEach(pair => {\n    // Healthy coherence: 0.65–0.80 | SZ coherence: 0.25–0.45\n    const base = isSZ ? 0.25 + rng() * 0.20 : 0.65 + rng() * 0.15;\n    result[pair] = parseFloat((base + (rng() - 0.5) * 0.05).toFixed(3));\n  });\n  return result;\n}\n\n// ─────────────────────────────────────────────────────────────\n// feat: classify risk level and recommendation from score\n// ─────────────────────────────────────────────────────────────\n// docs: score ≥60 = High Risk, 40–59 = Moderate, <40 = Low Risk\nexport function classifyRisk(score) {\n  if (score >= 60) {\n    return {\n      level: \"High Risk\",\n      color: \"#ef4444\",\n      recommendation: \"Immediate psychiatric consultation recommended\",\n      alert: \"Elevated slow-wave activity and reduced alpha coherence patterns observed. Recommend psychiatric evaluation.\"\n    };\n  } else if (score >= 40) {\n    return {\n      level: \"Moderate\",\n      color: \"#f59e0b\",\n      recommendation: \"Schedule follow-up evaluation\",\n      alert: \"Borderline EEG patterns detected. Some abnormalities present. Monitor and retest in 3 months.\"\n    };\n  } else {\n    return {\n      level: \"Low Risk\",\n      color: \"#10b981\",\n      recommendation: \"Routine monitoring\",\n      alert: \"EEG patterns within healthy reference range. No significant abnormalities detected.\"\n    };\n  }\n}","map":{"version":3,"names":["mulberry32","seed","t","Math","imul","generateEEGSignal","isSZ","rng","sfreq","duration","nSamples","channels","params","map","dA","tA","aA","bA","gA","dP","PI","tP","aP","bP","gP","signal","i","point","time","parseFloat","toFixed","forEach","ch","ci","p","noise","sin","push","computeBandPowers","baselines","delta","theta","alpha","beta","gamma","szMultipliers","powers","Object","entries","band","base","multiplier","lo","hi","computeRiskScore","bandPowers","components","rawScore","values","reduce","a","b","score","min","max","round","confidence","markerMap","keyBand","keyMarker","deviations","keyDeviation","generateSHAPValues","features","name","region","szSign","coh","hSign","szMag","hMag","shapValues","f","mag","sign","value","sort","abs","computeCoherence","pairs","result","pair","classifyRisk","level","color","recommendation","alert"],"sources":["C:/Users/gulam/OneDrive/Documents/My Texts/Programming/neuroscan-ai/src/utils/eegUtils.js"],"sourcesContent":["// feat: EEG signal generation and analysis utilities\r\n// docs: all synthetic EEG data is generated using seeded pseudo-random numbers\r\n// docs: same seed → same sequence of numbers → same patient data (fully reproducible)\r\n// docs: this module provides the core simulation pipeline for the NeuroScan AI dashboard\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: seeded pseudo-random number generator (mulberry32)\r\n// Same seed → same sequence of numbers → same patient data\r\n// ─────────────────────────────────────────────────────────────\r\nexport function mulberry32(seed) {\r\n  return function () {\r\n    seed |= 0;\r\n    seed = (seed + 0x6d2b79f5) | 0;\r\n    let t = Math.imul(seed ^ (seed >>> 15), 1 | seed);\r\n    t = (t + Math.imul(t ^ (t >>> 7), 61 | t)) ^ t;\r\n    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;\r\n  };\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: generate raw EEG waveform signal for 5 channels\r\n// Returns 1280 data points (5 seconds at 256Hz)\r\n// Each point: { time, Fp1, F3, C3, P3, O1 }\r\n// ─────────────────────────────────────────────────────────────\r\nexport function generateEEGSignal(isSZ, seed) {\r\n  const rng = mulberry32(seed);\r\n  const sfreq = 256;       // samples per second\r\n  const duration = 5;      // seconds\r\n  const nSamples = sfreq * duration; // 1280 total samples\r\n  const channels = [\"Fp1\", \"F3\", \"C3\", \"P3\", \"O1\"];\r\n\r\n  // perf: pre-compute amplitude and phase params per channel\r\n  // so we don't recalculate inside the sample loop\r\n  const params = channels.map(() => {\r\n    let dA = 0.5 + rng() * 1.0;  // delta amplitude\r\n    let tA = 0.3 + rng() * 0.5;  // theta amplitude\r\n    let aA = 0.8 + rng() * 1.2;  // alpha amplitude\r\n    let bA = 0.2 + rng() * 0.4;  // beta amplitude\r\n    let gA = 0.1 + rng() * 0.2;  // gamma amplitude\r\n\r\n    if (isSZ) {\r\n      // feat: apply schizophrenia EEG modifications based on literature\r\n      // delta and theta elevated, alpha suppressed, gamma dysregulated\r\n      dA *= 1.8 + rng() * 0.7;   // ↑ delta (slow wave invasion)\r\n      tA *= 1.5 + rng() * 0.5;   // ↑ theta (cognitive slowing)\r\n      aA *= 0.3 + rng() * 0.3;   // ↓ alpha (KEY marker - suppressed)\r\n      gA *= 1.5 + rng() * 0.7;   // ↑ gamma (dysregulation)\r\n    } else {\r\n      // chore: consume same number of rng calls for consistency\r\n      rng(); rng(); rng(); rng();\r\n    }\r\n\r\n    return {\r\n      dA, tA, aA, bA, gA,\r\n      dP: rng() * 2 * Math.PI,   // delta phase offset\r\n      tP: rng() * 2 * Math.PI,   // theta phase offset\r\n      aP: rng() * 2 * Math.PI,   // alpha phase offset\r\n      bP: rng() * 2 * Math.PI,   // beta phase offset\r\n      gP: rng() * 2 * Math.PI,   // gamma phase offset\r\n    };\r\n  });\r\n\r\n  // feat: build sample-by-sample signal array\r\n  const signal = [];\r\n  for (let i = 0; i < nSamples; i++) {\r\n    const t = i / sfreq;\r\n    const point = { time: parseFloat(t.toFixed(4)) };\r\n\r\n    channels.forEach((ch, ci) => {\r\n      const p = params[ci];\r\n      const noise = (rng() - 0.5) * 0.6; // biological noise\r\n\r\n      // signal = sum of all frequency band sine waves + noise\r\n      point[ch] =\r\n        p.dA * Math.sin(2 * Math.PI * 2 * t + p.dP) +  // 2Hz delta\r\n        p.tA * Math.sin(2 * Math.PI * 6 * t + p.tP) +  // 6Hz theta\r\n        p.aA * Math.sin(2 * Math.PI * 10 * t + p.aP) +  // 10Hz alpha\r\n        p.bA * Math.sin(2 * Math.PI * 20 * t + p.bP) +  // 20Hz beta\r\n        p.gA * Math.sin(2 * Math.PI * 40 * t + p.gP) +  // 40Hz gamma\r\n        noise;\r\n    });\r\n\r\n    signal.push(point);\r\n  }\r\n\r\n  return signal;\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: compute frequency band power values per band\r\n// Simulates Welch PSD output using seeded random variation\r\n// Healthy baselines: delta=1.2, theta=0.7, alpha=1.8, beta=0.5, gamma=0.2\r\n// ─────────────────────────────────────────────────────────────\r\n// refactor: uses separate seed offset (+1000) to avoid correlation with signal generation\r\nexport function computeBandPowers(isSZ, seed) {\r\n  const rng = mulberry32(seed + 1000); // offset seed to avoid correlation with signal\r\n\r\n  // Healthy baseline values from EEG literature\r\n  const baselines = {\r\n    delta: 1.2,\r\n    theta: 0.7,\r\n    alpha: 1.8,\r\n    beta: 0.5,\r\n    gamma: 0.2,\r\n  };\r\n\r\n  // Schizophrenia multiplier ranges per band\r\n  const szMultipliers = {\r\n    delta: [1.6, 2.5],   // elevated\r\n    theta: [1.4, 1.9],   // elevated\r\n    alpha: [0.25, 0.55], // suppressed (most important marker)\r\n    beta: [0.7, 0.95],  // slightly reduced\r\n    gamma: [1.4, 2.1],   // dysregulated\r\n  };\r\n\r\n  const powers = {};\r\n  Object.entries(baselines).forEach(([band, base]) => {\r\n    let multiplier;\r\n    if (isSZ) {\r\n      const [lo, hi] = szMultipliers[band];\r\n      multiplier = lo + rng() * (hi - lo);\r\n    } else {\r\n      // healthy: ±15% variation around baseline\r\n      multiplier = 0.85 + rng() * 0.30;\r\n    }\r\n    powers[band] = parseFloat((base * multiplier).toFixed(4));\r\n  });\r\n\r\n  return powers;\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: compute risk score from band powers\r\n// Weighted formula — alpha suppression has highest weight (35%)\r\n// Returns: { score, confidence, keyMarker, components }\r\n// ─────────────────────────────────────────────────────────────\r\n// docs: weighted formula — alpha suppression has highest weight (35%) because it is the strongest SZ marker\r\nexport function computeRiskScore(bandPowers, seed) {\r\n  const rng = mulberry32(seed + 2000);\r\n\r\n  const { delta, theta, alpha, gamma } = bandPowers;\r\n\r\n  // Each component measures deviation from healthy baseline\r\n  const components = {\r\n    delta: parseFloat(((delta / 1.2 - 1) * 20).toFixed(2)),   // weight: 20\r\n    theta: parseFloat(((theta / 0.7 - 1) * 15).toFixed(2)),   // weight: 15\r\n    alpha: parseFloat(((1 - alpha / 1.8) * 35).toFixed(2)),   // weight: 35 (flipped)\r\n    gamma: parseFloat(((gamma / 0.2 - 1) * 10).toFixed(2)),   // weight: 10\r\n  };\r\n\r\n  // Raw score = sum of all components, then scale to 0-100\r\n  const rawScore = Object.values(components).reduce((a, b) => a + b, 0);\r\n  const score = Math.min(100, Math.max(0, Math.round(rawScore * 1.2)));\r\n\r\n  // Confidence: 80–95% range with seeded noise\r\n  const confidence = Math.round(80 + rng() * 15);\r\n\r\n  // feat: determine key marker — whichever component is highest\r\n  const markerMap = {\r\n    delta: \"δ Elevation\",\r\n    theta: \"θ Elevation\",\r\n    alpha: \"α Suppression\",\r\n    gamma: \"γ Dysregulation\",\r\n  };\r\n  const keyBand = Object.entries(components).reduce((a, b) =>\r\n    b[1] > a[1] ? b : a\r\n  )[0];\r\n  const keyMarker = markerMap[keyBand];\r\n\r\n  // Deviation % for key marker display\r\n  const deviations = {\r\n    delta: `+${Math.round((delta / 1.2 - 1) * 100)}% above normal`,\r\n    theta: `+${Math.round((theta / 0.7 - 1) * 100)}% above normal`,\r\n    alpha: `-${Math.round((1 - alpha / 1.8) * 100)}% below normal`,\r\n    gamma: `+${Math.round((gamma / 0.2 - 1) * 100)}% above normal`,\r\n  };\r\n\r\n  return { score, confidence, keyMarker, keyDeviation: deviations[keyBand], components };\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: generate SHAP-style feature importance values\r\n// Explains which EEG features drove the risk score up or down\r\n// Positive = increases risk, Negative = decreases risk\r\n// ─────────────────────────────────────────────────────────────\r\n// docs: SHAP = SHapley Additive exPlanations — makes AI decisions transparent and auditable\r\nexport function generateSHAPValues(isSZ, seed) {\r\n  const rng = mulberry32(seed + 3000);\r\n\r\n  // 15 features covering band+channel combos and coherence\r\n  const features = [\r\n    { name: \"α · Fz\", band: \"alpha\", region: \"Frontal\" },\r\n    { name: \"δ · Cz\", band: \"delta\", region: \"Central\" },\r\n    { name: \"θ · F3\", band: \"theta\", region: \"Frontal\" },\r\n    { name: \"γ · Fp1\", band: \"gamma\", region: \"Prefrontal\" },\r\n    { name: \"α · C3\", band: \"alpha\", region: \"Central\" },\r\n    { name: \"Coh · Fz→Pz\", band: \"coh\", region: \"F-P\" },\r\n    { name: \"δ · F4\", band: \"delta\", region: \"Frontal\" },\r\n    { name: \"θ · Pz\", band: \"theta\", region: \"Parietal\" },\r\n    { name: \"α · O1\", band: \"alpha\", region: \"Occipital\" },\r\n    { name: \"β · C4\", band: \"beta\", region: \"Central\" },\r\n    { name: \"γ · F3\", band: \"gamma\", region: \"Frontal\" },\r\n    { name: \"Coh · F3→P3\", band: \"coh\", region: \"F-P\" },\r\n    { name: \"δ · Fp1\", band: \"delta\", region: \"Prefrontal\" },\r\n    { name: \"θ · C3\", band: \"theta\", region: \"Central\" },\r\n    { name: \"α · Fp2\", band: \"alpha\", region: \"Prefrontal\" },\r\n  ];\r\n\r\n  // Base SHAP magnitudes per band for SZ vs healthy\r\n  const szSign = { alpha: -1, delta: 1, theta: 1, gamma: 1, beta: -1, coh: -1 };\r\n  const hSign = { alpha: 1, delta: -1, theta: -1, gamma: -1, beta: 1, coh: 1 };\r\n  const szMag = { alpha: [0.15, 0.35], delta: [0.10, 0.28], theta: [0.08, 0.20], gamma: [0.08, 0.22], beta: [0.05, 0.15], coh: [0.08, 0.18] };\r\n  const hMag = { alpha: [0.05, 0.15], delta: [0.03, 0.10], theta: [0.03, 0.08], gamma: [0.03, 0.08], beta: [0.02, 0.08], coh: [0.03, 0.10] };\r\n\r\n  const shapValues = features.map((f) => {\r\n    const mag = isSZ ? szMag[f.band] : hMag[f.band];\r\n    const sign = isSZ ? szSign[f.band] : hSign[f.band];\r\n    const base = mag[0] + rng() * (mag[1] - mag[0]);\r\n    const noise = (rng() - 0.5) * 0.03; // ±15% noise\r\n    return {\r\n      ...f,\r\n      value: parseFloat((sign * (base + noise)).toFixed(4)),\r\n    };\r\n  });\r\n\r\n  // Sort by absolute SHAP value descending\r\n  return shapValues.sort((a, b) => Math.abs(b.value) - Math.abs(a.value));\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: compute alpha coherence between frontal-parietal pairs\r\n// Low coherence in SZ indicates disconnection between regions\r\n// ─────────────────────────────────────────────────────────────\r\n// docs: low coherence in SZ indicates functional disconnection between brain regions\r\nexport function computeCoherence(isSZ, seed) {\r\n  const rng = mulberry32(seed + 4000);\r\n\r\n  const pairs = [\"Fz-Pz\", \"F3-P3\", \"F4-P4\"];\r\n  const result = {};\r\n\r\n  pairs.forEach((pair) => {\r\n    // Healthy coherence: 0.65–0.80 | SZ coherence: 0.25–0.45\r\n    const base = isSZ\r\n      ? 0.25 + rng() * 0.20\r\n      : 0.65 + rng() * 0.15;\r\n    result[pair] = parseFloat((base + (rng() - 0.5) * 0.05).toFixed(3));\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\n// ─────────────────────────────────────────────────────────────\r\n// feat: classify risk level and recommendation from score\r\n// ─────────────────────────────────────────────────────────────\r\n// docs: score ≥60 = High Risk, 40–59 = Moderate, <40 = Low Risk\r\nexport function classifyRisk(score) {\r\n  if (score >= 60) {\r\n    return {\r\n      level: \"High Risk\",\r\n      color: \"#ef4444\",\r\n      recommendation: \"Immediate psychiatric consultation recommended\",\r\n      alert: \"Elevated slow-wave activity and reduced alpha coherence patterns observed. Recommend psychiatric evaluation.\",\r\n    };\r\n  } else if (score >= 40) {\r\n    return {\r\n      level: \"Moderate\",\r\n      color: \"#f59e0b\",\r\n      recommendation: \"Schedule follow-up evaluation\",\r\n      alert: \"Borderline EEG patterns detected. Some abnormalities present. Monitor and retest in 3 months.\",\r\n    };\r\n  } else {\r\n    return {\r\n      level: \"Low Risk\",\r\n      color: \"#10b981\",\r\n      recommendation: \"Routine monitoring\",\r\n      alert: \"EEG patterns within healthy reference range. No significant abnormalities detected.\",\r\n    };\r\n  }\r\n}"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASA,UAAUA,CAACC,IAAI,EAAE;EAC/B,OAAO,YAAY;IACjBA,IAAI,IAAI,CAAC;IACTA,IAAI,GAAIA,IAAI,GAAG,UAAU,GAAI,CAAC;IAC9B,IAAIC,CAAC,GAAGC,IAAI,CAACC,IAAI,CAACH,IAAI,GAAIA,IAAI,KAAK,EAAG,EAAE,CAAC,GAAGA,IAAI,CAAC;IACjDC,CAAC,GAAIA,CAAC,GAAGC,IAAI,CAACC,IAAI,CAACF,CAAC,GAAIA,CAAC,KAAK,CAAE,EAAE,EAAE,GAAGA,CAAC,CAAC,GAAIA,CAAC;IAC9C,OAAO,CAAC,CAACA,CAAC,GAAIA,CAAC,KAAK,EAAG,MAAM,CAAC,IAAI,UAAU;EAC9C,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,iBAAiBA,CAACC,IAAI,EAAEL,IAAI,EAAE;EAC5C,MAAMM,GAAG,GAAGP,UAAU,CAACC,IAAI,CAAC;EAC5B,MAAMO,KAAK,GAAG,GAAG,CAAC,CAAO;EACzB,MAAMC,QAAQ,GAAG,CAAC,CAAC,CAAM;EACzB,MAAMC,QAAQ,GAAGF,KAAK,GAAGC,QAAQ,CAAC,CAAC;EACnC,MAAME,QAAQ,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;;EAEhD;EACA;EACA,MAAMC,MAAM,GAAGD,QAAQ,CAACE,GAAG,CAAC,MAAM;IAChC,IAAIC,EAAE,GAAG,GAAG,GAAGP,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAE;IAC7B,IAAIQ,EAAE,GAAG,GAAG,GAAGR,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAE;IAC7B,IAAIS,EAAE,GAAG,GAAG,GAAGT,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAE;IAC7B,IAAIU,EAAE,GAAG,GAAG,GAAGV,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAE;IAC7B,IAAIW,EAAE,GAAG,GAAG,GAAGX,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAE;;IAE7B,IAAID,IAAI,EAAE;MACR;MACA;MACAQ,EAAE,IAAI,GAAG,GAAGP,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAG;MAC3BQ,EAAE,IAAI,GAAG,GAAGR,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAG;MAC3BS,EAAE,IAAI,GAAG,GAAGT,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAG;MAC3BW,EAAE,IAAI,GAAG,GAAGX,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAG;IAC7B,CAAC,MAAM;MACL;MACAA,GAAG,CAAC,CAAC;MAAEA,GAAG,CAAC,CAAC;MAAEA,GAAG,CAAC,CAAC;MAAEA,GAAG,CAAC,CAAC;IAC5B;IAEA,OAAO;MACLO,EAAE;MAAEC,EAAE;MAAEC,EAAE;MAAEC,EAAE;MAAEC,EAAE;MAClBC,EAAE,EAAEZ,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACiB,EAAE;MAAI;MAC3BC,EAAE,EAAEd,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACiB,EAAE;MAAI;MAC3BE,EAAE,EAAEf,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACiB,EAAE;MAAI;MAC3BG,EAAE,EAAEhB,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACiB,EAAE;MAAI;MAC3BI,EAAE,EAAEjB,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACiB,EAAE,CAAI;IAC7B,CAAC;EACH,CAAC,CAAC;;EAEF;EACA,MAAMK,MAAM,GAAG,EAAE;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhB,QAAQ,EAAEgB,CAAC,EAAE,EAAE;IACjC,MAAMxB,CAAC,GAAGwB,CAAC,GAAGlB,KAAK;IACnB,MAAMmB,KAAK,GAAG;MAAEC,IAAI,EAAEC,UAAU,CAAC3B,CAAC,CAAC4B,OAAO,CAAC,CAAC,CAAC;IAAE,CAAC;IAEhDnB,QAAQ,CAACoB,OAAO,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAK;MAC3B,MAAMC,CAAC,GAAGtB,MAAM,CAACqB,EAAE,CAAC;MACpB,MAAME,KAAK,GAAG,CAAC5B,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC;;MAEnC;MACAoB,KAAK,CAACK,EAAE,CAAC,GACPE,CAAC,CAACpB,EAAE,GAAGX,IAAI,CAACiC,GAAG,CAAC,CAAC,GAAGjC,IAAI,CAACiB,EAAE,GAAG,CAAC,GAAGlB,CAAC,GAAGgC,CAAC,CAACf,EAAE,CAAC;MAAI;MAC/Ce,CAAC,CAACnB,EAAE,GAAGZ,IAAI,CAACiC,GAAG,CAAC,CAAC,GAAGjC,IAAI,CAACiB,EAAE,GAAG,CAAC,GAAGlB,CAAC,GAAGgC,CAAC,CAACb,EAAE,CAAC;MAAI;MAC/Ca,CAAC,CAAClB,EAAE,GAAGb,IAAI,CAACiC,GAAG,CAAC,CAAC,GAAGjC,IAAI,CAACiB,EAAE,GAAG,EAAE,GAAGlB,CAAC,GAAGgC,CAAC,CAACZ,EAAE,CAAC;MAAI;MAChDY,CAAC,CAACjB,EAAE,GAAGd,IAAI,CAACiC,GAAG,CAAC,CAAC,GAAGjC,IAAI,CAACiB,EAAE,GAAG,EAAE,GAAGlB,CAAC,GAAGgC,CAAC,CAACX,EAAE,CAAC;MAAI;MAChDW,CAAC,CAAChB,EAAE,GAAGf,IAAI,CAACiC,GAAG,CAAC,CAAC,GAAGjC,IAAI,CAACiB,EAAE,GAAG,EAAE,GAAGlB,CAAC,GAAGgC,CAAC,CAACV,EAAE,CAAC;MAAI;MAChDW,KAAK;IACT,CAAC,CAAC;IAEFV,MAAM,CAACY,IAAI,CAACV,KAAK,CAAC;EACpB;EAEA,OAAOF,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASa,iBAAiBA,CAAChC,IAAI,EAAEL,IAAI,EAAE;EAC5C,MAAMM,GAAG,GAAGP,UAAU,CAACC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;;EAErC;EACA,MAAMsC,SAAS,GAAG;IAChBC,KAAK,EAAE,GAAG;IACVC,KAAK,EAAE,GAAG;IACVC,KAAK,EAAE,GAAG;IACVC,IAAI,EAAE,GAAG;IACTC,KAAK,EAAE;EACT,CAAC;;EAED;EACA,MAAMC,aAAa,GAAG;IACpBL,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;IAAI;IACrBC,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;IAAI;IACrBC,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAE;IACrBC,IAAI,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC;IAAG;IACpBC,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAI;EACvB,CAAC;EAED,MAAME,MAAM,GAAG,CAAC,CAAC;EACjBC,MAAM,CAACC,OAAO,CAACT,SAAS,CAAC,CAACR,OAAO,CAAC,CAAC,CAACkB,IAAI,EAAEC,IAAI,CAAC,KAAK;IAClD,IAAIC,UAAU;IACd,IAAI7C,IAAI,EAAE;MACR,MAAM,CAAC8C,EAAE,EAAEC,EAAE,CAAC,GAAGR,aAAa,CAACI,IAAI,CAAC;MACpCE,UAAU,GAAGC,EAAE,GAAG7C,GAAG,CAAC,CAAC,IAAI8C,EAAE,GAAGD,EAAE,CAAC;IACrC,CAAC,MAAM;MACL;MACAD,UAAU,GAAG,IAAI,GAAG5C,GAAG,CAAC,CAAC,GAAG,IAAI;IAClC;IACAuC,MAAM,CAACG,IAAI,CAAC,GAAGpB,UAAU,CAAC,CAACqB,IAAI,GAAGC,UAAU,EAAErB,OAAO,CAAC,CAAC,CAAC,CAAC;EAC3D,CAAC,CAAC;EAEF,OAAOgB,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASQ,gBAAgBA,CAACC,UAAU,EAAEtD,IAAI,EAAE;EACjD,MAAMM,GAAG,GAAGP,UAAU,CAACC,IAAI,GAAG,IAAI,CAAC;EAEnC,MAAM;IAAEuC,KAAK;IAAEC,KAAK;IAAEC,KAAK;IAAEE;EAAM,CAAC,GAAGW,UAAU;;EAEjD;EACA,MAAMC,UAAU,GAAG;IACjBhB,KAAK,EAAEX,UAAU,CAAC,CAAC,CAACW,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC;IAAI;IAC1DW,KAAK,EAAEZ,UAAU,CAAC,CAAC,CAACY,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,EAAEX,OAAO,CAAC,CAAC,CAAC,CAAC;IAAI;IAC1DY,KAAK,EAAEb,UAAU,CAAC,CAAC,CAAC,CAAC,GAAGa,KAAK,GAAG,GAAG,IAAI,EAAE,EAAEZ,OAAO,CAAC,CAAC,CAAC,CAAC;IAAI;IAC1Dc,KAAK,EAAEf,UAAU,CAAC,CAAC,CAACe,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,EAAEd,OAAO,CAAC,CAAC,CAAC,CAAC,CAAI;EAC5D,CAAC;;EAED;EACA,MAAM2B,QAAQ,GAAGV,MAAM,CAACW,MAAM,CAACF,UAAU,CAAC,CAACG,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;EACrE,MAAMC,KAAK,GAAG3D,IAAI,CAAC4D,GAAG,CAAC,GAAG,EAAE5D,IAAI,CAAC6D,GAAG,CAAC,CAAC,EAAE7D,IAAI,CAAC8D,KAAK,CAACR,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;;EAEpE;EACA,MAAMS,UAAU,GAAG/D,IAAI,CAAC8D,KAAK,CAAC,EAAE,GAAG1D,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;;EAE9C;EACA,MAAM4D,SAAS,GAAG;IAChB3B,KAAK,EAAE,aAAa;IACpBC,KAAK,EAAE,aAAa;IACpBC,KAAK,EAAE,eAAe;IACtBE,KAAK,EAAE;EACT,CAAC;EACD,MAAMwB,OAAO,GAAGrB,MAAM,CAACC,OAAO,CAACQ,UAAU,CAAC,CAACG,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KACrDA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,GAAGD,CACpB,CAAC,CAAC,CAAC,CAAC;EACJ,MAAMS,SAAS,GAAGF,SAAS,CAACC,OAAO,CAAC;;EAEpC;EACA,MAAME,UAAU,GAAG;IACjB9B,KAAK,EAAE,IAAIrC,IAAI,CAAC8D,KAAK,CAAC,CAACzB,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,gBAAgB;IAC9DC,KAAK,EAAE,IAAItC,IAAI,CAAC8D,KAAK,CAAC,CAACxB,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,gBAAgB;IAC9DC,KAAK,EAAE,IAAIvC,IAAI,CAAC8D,KAAK,CAAC,CAAC,CAAC,GAAGvB,KAAK,GAAG,GAAG,IAAI,GAAG,CAAC,gBAAgB;IAC9DE,KAAK,EAAE,IAAIzC,IAAI,CAAC8D,KAAK,CAAC,CAACrB,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC;EAChD,CAAC;EAED,OAAO;IAAEkB,KAAK;IAAEI,UAAU;IAAEG,SAAS;IAAEE,YAAY,EAAED,UAAU,CAACF,OAAO,CAAC;IAAEZ;EAAW,CAAC;AACxF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASgB,kBAAkBA,CAAClE,IAAI,EAAEL,IAAI,EAAE;EAC7C,MAAMM,GAAG,GAAGP,UAAU,CAACC,IAAI,GAAG,IAAI,CAAC;;EAEnC;EACA,MAAMwE,QAAQ,GAAG,CACf;IAAEC,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,SAAS;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAa,CAAC,EACxD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,aAAa;IAAEzB,IAAI,EAAE,KAAK;IAAE0B,MAAM,EAAE;EAAM,CAAC,EACnD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAW,CAAC,EACrD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAY,CAAC,EACtD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,MAAM;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACnD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,aAAa;IAAEzB,IAAI,EAAE,KAAK;IAAE0B,MAAM,EAAE;EAAM,CAAC,EACnD;IAAED,IAAI,EAAE,SAAS;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAa,CAAC,EACxD;IAAED,IAAI,EAAE,QAAQ;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAU,CAAC,EACpD;IAAED,IAAI,EAAE,SAAS;IAAEzB,IAAI,EAAE,OAAO;IAAE0B,MAAM,EAAE;EAAa,CAAC,CACzD;;EAED;EACA,MAAMC,MAAM,GAAG;IAAElC,KAAK,EAAE,CAAC,CAAC;IAAEF,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,CAAC;IAAEG,KAAK,EAAE,CAAC;IAAED,IAAI,EAAE,CAAC,CAAC;IAAEkC,GAAG,EAAE,CAAC;EAAE,CAAC;EAC7E,MAAMC,KAAK,GAAG;IAAEpC,KAAK,EAAE,CAAC;IAAEF,KAAK,EAAE,CAAC,CAAC;IAAEC,KAAK,EAAE,CAAC,CAAC;IAAEG,KAAK,EAAE,CAAC,CAAC;IAAED,IAAI,EAAE,CAAC;IAAEkC,GAAG,EAAE;EAAE,CAAC;EAC5E,MAAME,KAAK,GAAG;IAAErC,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEF,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEC,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEG,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAED,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEkC,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI;EAAE,CAAC;EAC3I,MAAMG,IAAI,GAAG;IAAEtC,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEF,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEC,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEG,KAAK,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAED,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;IAAEkC,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI;EAAE,CAAC;EAE1I,MAAMI,UAAU,GAAGR,QAAQ,CAAC5D,GAAG,CAAEqE,CAAC,IAAK;IACrC,MAAMC,GAAG,GAAG7E,IAAI,GAAGyE,KAAK,CAACG,CAAC,CAACjC,IAAI,CAAC,GAAG+B,IAAI,CAACE,CAAC,CAACjC,IAAI,CAAC;IAC/C,MAAMmC,IAAI,GAAG9E,IAAI,GAAGsE,MAAM,CAACM,CAAC,CAACjC,IAAI,CAAC,GAAG6B,KAAK,CAACI,CAAC,CAACjC,IAAI,CAAC;IAClD,MAAMC,IAAI,GAAGiC,GAAG,CAAC,CAAC,CAAC,GAAG5E,GAAG,CAAC,CAAC,IAAI4E,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/C,MAAMhD,KAAK,GAAG,CAAC5B,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,CAAC;IACpC,OAAO;MACL,GAAG2E,CAAC;MACJG,KAAK,EAAExD,UAAU,CAAC,CAACuD,IAAI,IAAIlC,IAAI,GAAGf,KAAK,CAAC,EAAEL,OAAO,CAAC,CAAC,CAAC;IACtD,CAAC;EACH,CAAC,CAAC;;EAEF;EACA,OAAOmD,UAAU,CAACK,IAAI,CAAC,CAAC1B,CAAC,EAAEC,CAAC,KAAK1D,IAAI,CAACoF,GAAG,CAAC1B,CAAC,CAACwB,KAAK,CAAC,GAAGlF,IAAI,CAACoF,GAAG,CAAC3B,CAAC,CAACyB,KAAK,CAAC,CAAC;AACzE;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,gBAAgBA,CAAClF,IAAI,EAAEL,IAAI,EAAE;EAC3C,MAAMM,GAAG,GAAGP,UAAU,CAACC,IAAI,GAAG,IAAI,CAAC;EAEnC,MAAMwF,KAAK,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;EACzC,MAAMC,MAAM,GAAG,CAAC,CAAC;EAEjBD,KAAK,CAAC1D,OAAO,CAAE4D,IAAI,IAAK;IACtB;IACA,MAAMzC,IAAI,GAAG5C,IAAI,GACb,IAAI,GAAGC,GAAG,CAAC,CAAC,GAAG,IAAI,GACnB,IAAI,GAAGA,GAAG,CAAC,CAAC,GAAG,IAAI;IACvBmF,MAAM,CAACC,IAAI,CAAC,GAAG9D,UAAU,CAAC,CAACqB,IAAI,GAAG,CAAC3C,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,EAAEuB,OAAO,CAAC,CAAC,CAAC,CAAC;EACrE,CAAC,CAAC;EAEF,OAAO4D,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASE,YAAYA,CAAC9B,KAAK,EAAE;EAClC,IAAIA,KAAK,IAAI,EAAE,EAAE;IACf,OAAO;MACL+B,KAAK,EAAE,WAAW;MAClBC,KAAK,EAAE,SAAS;MAChBC,cAAc,EAAE,gDAAgD;MAChEC,KAAK,EAAE;IACT,CAAC;EACH,CAAC,MAAM,IAAIlC,KAAK,IAAI,EAAE,EAAE;IACtB,OAAO;MACL+B,KAAK,EAAE,UAAU;MACjBC,KAAK,EAAE,SAAS;MAChBC,cAAc,EAAE,+BAA+B;MAC/CC,KAAK,EAAE;IACT,CAAC;EACH,CAAC,MAAM;IACL,OAAO;MACLH,KAAK,EAAE,UAAU;MACjBC,KAAK,EAAE,SAAS;MAChBC,cAAc,EAAE,oBAAoB;MACpCC,KAAK,EAAE;IACT,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}